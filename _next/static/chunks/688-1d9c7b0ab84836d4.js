(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[688],{83234:function(e,i,n){"use strict";n.d(i,{NI:function(){return y},Yp:function(){return useFormControl},lX:function(){return g}});var s=n(67294),l=n(28387),h=n(76734),u=n(32067),d=n(54520),c=n(52494),cx=(...e)=>e.filter(Boolean).join(" "),dataAttr=e=>e?"":void 0,ariaAttr=e=>!!e||void 0;function callAllHandlers(...e){return function(i){e.some(e=>(null==e||e(i),null==i?void 0:i.defaultPrevented))}}var[f,p]=(0,l.k)({name:"FormControlStylesContext",errorMessage:"useFormControlStyles returned is 'undefined'. Seems you forgot to wrap the components in \"<FormControl />\" "}),[v,m]=(0,l.k)({strict:!1,name:"FormControlContext"}),y=(0,u.Gp)(function(e,i){let n=(0,u.jC)("Form",e),l=(0,d.Lr)(e),{getRootProps:c,htmlProps:p,...m}=function(e){let{id:i,isRequired:n,isInvalid:l,isDisabled:u,isReadOnly:d,...c}=e,f=(0,s.useId)(),p=i||`field-${f}`,v=`${p}-label`,m=`${p}-feedback`,y=`${p}-helptext`,[x,b]=(0,s.useState)(!1),[g,I]=(0,s.useState)(!1),[w,C]=(0,s.useState)(!1),E=(0,s.useCallback)((e={},i=null)=>({id:y,...e,ref:(0,h.lq)(i,e=>{e&&I(!0)})}),[y]),B=(0,s.useCallback)((e={},i=null)=>({...e,ref:i,"data-focus":dataAttr(w),"data-disabled":dataAttr(u),"data-invalid":dataAttr(l),"data-readonly":dataAttr(d),id:e.id??v,htmlFor:e.htmlFor??p}),[p,u,w,l,d,v]),M=(0,s.useCallback)((e={},i=null)=>({id:m,...e,ref:(0,h.lq)(i,e=>{e&&b(!0)}),"aria-live":"polite"}),[m]),k=(0,s.useCallback)((e={},i=null)=>({...e,...c,ref:i,role:"group"}),[c]),N=(0,s.useCallback)((e={},i=null)=>({...e,ref:i,role:"presentation","aria-hidden":!0,children:e.children||"*"}),[]);return{isRequired:!!n,isInvalid:!!l,isReadOnly:!!d,isDisabled:!!u,isFocused:!!w,onFocus:()=>C(!0),onBlur:()=>C(!1),hasFeedbackText:x,setHasFeedbackText:b,hasHelpText:g,setHasHelpText:I,id:p,labelId:v,feedbackId:m,helpTextId:y,htmlProps:c,getHelpTextProps:E,getErrorMessageProps:M,getRootProps:k,getLabelProps:B,getRequiredIndicatorProps:N}}(l),y=cx("chakra-form-control",e.className);return s.createElement(v,{value:m},s.createElement(f,{value:n},s.createElement(u.m$.div,{...c({},i),className:y,__css:n.container})))});function useFormControl(e){let{isDisabled:i,isInvalid:n,isReadOnly:s,isRequired:l,...h}=function(e){let i=m(),{id:n,disabled:s,readOnly:l,required:h,isRequired:u,isInvalid:d,isReadOnly:c,isDisabled:f,onFocus:p,onBlur:v,...y}=e,x=e["aria-describedby"]?[e["aria-describedby"]]:[];return(null==i?void 0:i.hasFeedbackText)&&(null==i?void 0:i.isInvalid)&&x.push(i.feedbackId),(null==i?void 0:i.hasHelpText)&&x.push(i.helpTextId),{...y,"aria-describedby":x.join(" ")||void 0,id:n??(null==i?void 0:i.id),isDisabled:s??f??(null==i?void 0:i.isDisabled),isReadOnly:l??c??(null==i?void 0:i.isReadOnly),isRequired:h??u??(null==i?void 0:i.isRequired),isInvalid:d??(null==i?void 0:i.isInvalid),onFocus:callAllHandlers(null==i?void 0:i.onFocus,p),onBlur:callAllHandlers(null==i?void 0:i.onBlur,v)}}(e);return{...h,disabled:i,readOnly:s,required:l,"aria-invalid":ariaAttr(n),"aria-required":ariaAttr(l),"aria-readonly":ariaAttr(s)}}y.displayName="FormControl",(0,u.Gp)(function(e,i){let n=m(),l=p(),h=cx("chakra-form__helper-text",e.className);return s.createElement(u.m$.div,{...null==n?void 0:n.getHelpTextProps(e,i),__css:l.helperText,className:h})}).displayName="FormHelperText";var[x,b]=(0,l.k)({name:"FormErrorStylesContext",errorMessage:"useFormErrorStyles returned is 'undefined'. Seems you forgot to wrap the components in \"<FormError />\" "});(0,u.Gp)((e,i)=>{let n=(0,u.jC)("FormError",e),l=(0,d.Lr)(e),h=m();return(null==h?void 0:h.isInvalid)?s.createElement(x,{value:n},s.createElement(u.m$.div,{...null==h?void 0:h.getErrorMessageProps(l,i),className:cx("chakra-form__error-message",e.className),__css:{display:"flex",alignItems:"center",...n.text}})):null}).displayName="FormErrorMessage",(0,u.Gp)((e,i)=>{let n=b(),l=m();if(!(null==l?void 0:l.isInvalid))return null;let h=cx("chakra-form__error-icon",e.className);return s.createElement(c.JO,{ref:i,"aria-hidden":!0,...e,__css:n.icon,className:h},s.createElement("path",{fill:"currentColor",d:"M11.983,0a12.206,12.206,0,0,0-8.51,3.653A11.8,11.8,0,0,0,0,12.207,11.779,11.779,0,0,0,11.8,24h.214A12.111,12.111,0,0,0,24,11.791h0A11.766,11.766,0,0,0,11.983,0ZM10.5,16.542a1.476,1.476,0,0,1,1.449-1.53h.027a1.527,1.527,0,0,1,1.523,1.47,1.475,1.475,0,0,1-1.449,1.53h-.027A1.529,1.529,0,0,1,10.5,16.542ZM11,12.5v-6a1,1,0,0,1,2,0v6a1,1,0,1,1-2,0Z"}))}).displayName="FormErrorIcon";var g=(0,u.Gp)(function(e,i){let n=(0,u.mq)("FormLabel",e),l=(0,d.Lr)(e),{className:h,children:c,requiredIndicator:f=s.createElement(I,null),optionalIndicator:p=null,...v}=l,y=m(),x=(null==y?void 0:y.getLabelProps(v,i))??{ref:i,...v};return s.createElement(u.m$.label,{...x,className:cx("chakra-form__label",l.className),__css:{display:"block",textAlign:"start",...n}},c,(null==y?void 0:y.isRequired)?f:p)});g.displayName="FormLabel";var I=(0,u.Gp)(function(e,i){let n=m(),l=p();if(!(null==n?void 0:n.isRequired))return null;let h=cx("chakra-form__required-indicator",e.className);return s.createElement(u.m$.span,{...null==n?void 0:n.getRequiredIndicatorProps(e,i),__css:l.requiredIndicator,className:h})});I.displayName="RequiredIndicator"},20979:function(e,i,n){"use strict";n.d(i,{II:function(){return v}});var s=n(67294),l=n(83234),h=n(32067),u=n(54520),d=n(95336),c=n(28387),f=n(34031),p=n(46076),v=(0,h.Gp)(function(e,i){let{htmlSize:n,...c}=e,f=(0,h.jC)("Input",c),p=(0,u.Lr)(c),v=(0,l.Yp)(p),m=(0,d.cx)("chakra-input",e.className);return s.createElement(h.m$.input,{size:n,...v,__css:f.field,ref:i,className:m})});v.displayName="Input",v.id="Input";var[m,y]=(0,c.k)({name:"InputGroupStylesContext",errorMessage:"useInputGroupStyles returned is 'undefined'. Seems you forgot to wrap the components in \"<InputGroup />\" "});(0,h.Gp)(function(e,i){let n=(0,h.jC)("Input",e),{children:l,className:c,...v}=(0,u.Lr)(e),y=(0,d.cx)("chakra-input__group",c),x={},b=(0,f.W)(l),g=n.field;b.forEach(e=>{n&&(g&&"InputLeftElement"===e.type.id&&(x.paddingStart=g.height??g.h),g&&"InputRightElement"===e.type.id&&(x.paddingEnd=g.height??g.h),"InputRightAddon"===e.type.id&&(x.borderEndRadius=0),"InputLeftAddon"===e.type.id&&(x.borderStartRadius=0))});let I=b.map(i=>{var n,l;let h=(0,p.oA)({size:(null==(n=i.props)?void 0:n.size)||e.size,variant:(null==(l=i.props)?void 0:l.variant)||e.variant});return"Input"!==i.type.id?(0,s.cloneElement)(i,h):(0,s.cloneElement)(i,Object.assign(h,x,i.props))});return s.createElement(h.m$.div,{className:y,ref:i,__css:{width:"100%",display:"flex",position:"relative"},...v},s.createElement(m,{value:n},I))}).displayName="InputGroup";var x={left:{marginEnd:"-1px",borderEndRadius:0,borderEndColor:"transparent"},right:{marginStart:"-1px",borderStartRadius:0,borderStartColor:"transparent"}},b=(0,h.m$)("div",{baseStyle:{flex:"0 0 auto",width:"auto",display:"flex",alignItems:"center",whiteSpace:"nowrap"}}),g=(0,h.Gp)(function(e,i){let{placement:n="left",...l}=e,h=x[n]??{},u=y();return s.createElement(b,{ref:i,...l,__css:{...u.addon,...h}})});g.displayName="InputAddon";var I=(0,h.Gp)(function(e,i){return s.createElement(g,{ref:i,placement:"left",...e,className:(0,d.cx)("chakra-input__left-addon",e.className)})});I.displayName="InputLeftAddon",I.id="InputLeftAddon";var w=(0,h.Gp)(function(e,i){return s.createElement(g,{ref:i,placement:"right",...e,className:(0,d.cx)("chakra-input__right-addon",e.className)})});w.displayName="InputRightAddon",w.id="InputRightAddon";var C=(0,h.m$)("div",{baseStyle:{display:"flex",alignItems:"center",justifyContent:"center",position:"absolute",top:"0",zIndex:2}}),E=(0,h.Gp)(function(e,i){let{placement:n="left",...l}=e,h=y(),u=h.field,d={["left"===n?"insetStart":"insetEnd"]:"0",width:(null==u?void 0:u.height)??(null==u?void 0:u.h),height:(null==u?void 0:u.height)??(null==u?void 0:u.h),fontSize:null==u?void 0:u.fontSize,...h.element};return s.createElement(C,{ref:i,__css:d,...l})});E.id="InputElement",E.displayName="InputElement";var B=(0,h.Gp)(function(e,i){let{className:n,...l}=e,h=(0,d.cx)("chakra-input__left-element",n);return s.createElement(E,{ref:i,placement:"left",className:h,...l})});B.id="InputLeftElement",B.displayName="InputLeftElement";var M=(0,h.Gp)(function(e,i){let{className:n,...l}=e,h=(0,d.cx)("chakra-input__right-element",n);return s.createElement(E,{ref:i,placement:"right",className:h,...l})});M.id="InputRightElement",M.displayName="InputRightElement"},57026:function(e,i,n){"use strict";n.d(i,{Ph:function(){return c}});var s=n(67294),l=n(83234),h=n(32067),u=n(54520),cx=(...e)=>e.filter(Boolean).join(" "),dataAttr=e=>e?"":void 0,d=(0,h.Gp)(function(e,i){let{children:n,placeholder:l,className:u,...d}=e;return s.createElement(h.m$.select,{...d,ref:i,className:cx("chakra-select",u)},l&&s.createElement("option",{value:""},l),n)});d.displayName="SelectField";var c=(0,h.Gp)((e,i)=>{var n;let c=(0,h.jC)("Select",e),{rootProps:f,placeholder:p,icon:v,color:m,height:y,h:x,minH:b,minHeight:g,iconColor:I,iconSize:w,...C}=(0,u.Lr)(e),[E,B]=function(e,i){let n={},s={};for(let[l,h]of Object.entries(e))i.includes(l)?n[l]=h:s[l]=h;return[n,s]}(C,u.oE),M=(0,l.Yp)(B),k={paddingEnd:"2rem",...c.field,_focus:{zIndex:"unset",...null==(n=c.field)?void 0:n._focus}};return s.createElement(h.m$.div,{className:"chakra-select__wrapper",__css:{width:"100%",height:"fit-content",position:"relative",color:m},...E,...f},s.createElement(d,{ref:i,height:x??y,minH:b??g,placeholder:p,...M,__css:k},e.children),s.createElement(SelectIcon,{"data-disabled":dataAttr(M.disabled),...(I||m)&&{color:I||m},__css:c.icon,...w&&{fontSize:w}},v))});c.displayName="Select";var DefaultIcon=e=>s.createElement("svg",{viewBox:"0 0 24 24",...e},s.createElement("path",{fill:"currentColor",d:"M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z"})),f=(0,h.m$)("div",{baseStyle:{position:"absolute",display:"inline-flex",alignItems:"center",justifyContent:"center",pointerEvents:"none",top:"50%",transform:"translateY(-50%)"}}),SelectIcon=e=>{let{children:i=s.createElement(DefaultIcon,null),...n}=e,l=(0,s.cloneElement)(i,{role:"presentation",className:"chakra-select__icon",focusable:!1,"aria-hidden":!0,style:{width:"1em",height:"1em",color:"currentColor"}});return s.createElement(f,{...n,className:"chakra-select__icon-wrapper"},(0,s.isValidElement)(i)?l:null)};SelectIcon.displayName="SelectIcon"},21297:function(e,i,n){"use strict";n.d(i,{u:function(){return g}});var s=n(67294),l=n(3907),h=n(57174),u=n(32067),d=n(54520),c=n(75814),f=n(21190),p=n(19251);function useEventListener(e,i,n,l){let h=(0,p.W)(n);return(0,s.useEffect)(()=>{let s="function"==typeof e?e():e??document;if(n&&s)return s.addEventListener(i,h,l),()=>{s.removeEventListener(i,h,l)}},[i,e,l,h,n]),()=>{let n="function"==typeof e?e():e??document;null==n||n.removeEventListener(i,h,l)}}var v=n(89755),m=n(76734),y={exit:{scale:.85,opacity:0,transition:{opacity:{duration:.15,easings:"easeInOut"},scale:{duration:.2,easings:"easeInOut"}}},enter:{scale:1,opacity:1,transition:{opacity:{easings:"easeOut",duration:.2},scale:{duration:.2,ease:[.175,.885,.4,1.1]}}}};function callAllHandlers(...e){return function(i){e.some(e=>(null==e||e(i),null==i?void 0:i.defaultPrevented))}}var getDoc=e=>{var i;return(null==(i=e.current)?void 0:i.ownerDocument)||document},getWin=e=>{var i,n;return(null==(n=null==(i=e.current)?void 0:i.ownerDocument)?void 0:n.defaultView)||window},x="chakra-ui:close-tooltip",b=(0,u.m$)(c.E.div),g=(0,u.Gp)((e,i)=>{let n;let c=(0,u.mq)("Tooltip",e),p=(0,d.Lr)(e),g=(0,u.Fg)(),{children:I,label:w,shouldWrapChildren:C,"aria-label":E,hasArrow:B,bg:M,portalProps:k,background:N,backgroundColor:O,bgColor:S,...z}=p,j=N??O??M??S;if(j){c.bg=j;let e=(0,d.K1)(g,"colors",j);c[l.j.arrowBg.var]=e}let A=function(e={}){let{openDelay:i=0,closeDelay:n=0,closeOnClick:h=!0,closeOnMouseDown:u,closeOnEsc:d=!0,onOpen:c,onClose:f,placement:p,id:y,isOpen:b,defaultIsOpen:g,arrowSize:I=10,arrowShadowColor:w,arrowPadding:C,modifiers:E,isDisabled:B,gutter:M,offset:k,direction:N,...O}=e,{isOpen:S,onOpen:z,onClose:j}=(0,v.q)({isOpen:b,defaultIsOpen:g,onOpen:c,onClose:f}),{referenceRef:A,getPopperProps:T,getArrowInnerProps:L,getArrowProps:q}=(0,l.D)({enabled:S,placement:p,arrowPadding:C,modifiers:E,gutter:M,offset:k,direction:N}),$=(0,s.useId)(),D=`tooltip-${y??$}`,G=(0,s.useRef)(null),W=(0,s.useRef)(),Y=(0,s.useRef)(),Q=(0,s.useCallback)(()=>{Y.current&&(clearTimeout(Y.current),Y.current=void 0),j()},[j]),X=((0,s.useEffect)(()=>{let e=getDoc(G);return e.addEventListener(x,Q),()=>e.removeEventListener(x,Q)},[Q,G]),()=>{let e=getDoc(G),i=getWin(G);e.dispatchEvent(new i.CustomEvent(x))}),tt=(0,s.useCallback)(()=>{if(!B&&!W.current){X();let e=getWin(G);W.current=e.setTimeout(z,i)}},[X,B,z,i]),te=(0,s.useCallback)(()=>{W.current&&(clearTimeout(W.current),W.current=void 0);let e=getWin(G);Y.current=e.setTimeout(Q,n)},[n,Q]),ti=(0,s.useCallback)(()=>{S&&h&&te()},[h,te,S]),tr=(0,s.useCallback)(()=>{S&&u&&te()},[u,te,S]),tn=(0,s.useCallback)(e=>{S&&"Escape"===e.key&&te()},[S,te]);useEventListener(()=>getDoc(G),"keydown",d?tn:void 0),(0,s.useEffect)(()=>()=>{clearTimeout(W.current),clearTimeout(Y.current)},[]),useEventListener(()=>G.current,"mouseleave",te);let ta=(0,s.useCallback)((e={},i=null)=>{let n={...e,ref:(0,m.lq)(G,i,A),onMouseEnter:callAllHandlers(e.onMouseEnter,tt),onClick:callAllHandlers(e.onClick,ti),onMouseDown:callAllHandlers(e.onMouseDown,tr),onFocus:callAllHandlers(e.onFocus,tt),onBlur:callAllHandlers(e.onBlur,te),"aria-describedby":S?D:void 0};return n},[tt,te,tr,S,D,ti,A]),ts=(0,s.useCallback)((e={},i=null)=>T({...e,style:{...e.style,[l.j.arrowSize.var]:I?`${I}px`:void 0,[l.j.arrowShadowColor.var]:w}},i),[T,I,w]),to=(0,s.useCallback)((e={},i=null)=>{let n={...e.style,position:"relative",transformOrigin:l.j.transformOrigin.varRef};return{ref:i,...O,...e,id:D,role:"tooltip",style:n}},[O,D]);return{isOpen:S,show:tt,hide:te,getTriggerProps:ta,getTooltipProps:to,getTooltipPositionerProps:ts,getArrowProps:q,getArrowInnerProps:L}}({...z,direction:g.direction}),T="string"==typeof I||C;if(T)n=s.createElement(u.m$.span,{tabIndex:0,...A.getTriggerProps()},I);else{let e=s.Children.only(I);n=(0,s.cloneElement)(e,A.getTriggerProps(e.props,e.ref))}let L=!!E,q=A.getTooltipProps({},i),$=L?function(e,i=[]){let n=Object.assign({},e);for(let e of i)e in n&&delete n[e];return n}(q,["role","id"]):q,D=function(e,i){let n={};for(let s of i)s in e&&(n[s]=e[s]);return n}(q,["role","id"]);return w?s.createElement(s.Fragment,null,n,s.createElement(f.M,null,A.isOpen&&s.createElement(h.h_,{...k},s.createElement(u.m$.div,{...A.getTooltipPositionerProps(),__css:{zIndex:c.zIndex,pointerEvents:"none"}},s.createElement(b,{variants:y,...$,initial:"exit",animate:"enter",exit:"exit",__css:c},w,L&&s.createElement(u.m$.span,{srOnly:!0,...D},E),B&&s.createElement(u.m$.div,{"data-popper-arrow":!0,className:"chakra-tooltip__arrow-wrapper"},s.createElement(u.m$.div,{"data-popper-arrow-inner":!0,className:"chakra-tooltip__arrow",__css:{bg:c.bg}}))))))):s.createElement(s.Fragment,null,I)});g.displayName="Tooltip"},97098:function(e,i,n){"use strict";n.d(i,{lu:function(){return ao},zx:function(){return Ti}});var s=Object.create,l=Object.defineProperty,h=Object.getOwnPropertyDescriptor,u=Object.getOwnPropertyNames,d=Object.getPrototypeOf,c=Object.prototype.hasOwnProperty,V=(e,i)=>()=>(i||e((i={exports:{}}).exports,i),i.exports),Gn=(e,i,n,s)=>{if(i&&"object"==typeof i||"function"==typeof i)for(let d of u(i))c.call(e,d)||d===n||l(e,d,{get:()=>i[d],enumerable:!(s=h(i,d))||s.enumerable});return e},ke=(e,i,n)=>(n=null!=e?s(d(e)):{},Gn(!i&&e&&e.__esModule?n:l(n,"default",{value:e,enumerable:!0}),e)),f=V((e,i)=>{var Fn=function(e,i){return e<i};function _(e){if(!(this instanceof _))return new _(e);this.array=[],this.size=0,this.compare=e||Fn}_.prototype.clone=function(){var e=new _(this.compare);return e.size=this.size,e.array=this.array.slice(0,this.size),e},_.prototype.add=function(e){var i,n,s=this.size;for(this.array[this.size]=e,this.size+=1;s>0&&(i=s-1>>1,n=this.array[i],this.compare(e,n));)this.array[s]=n,s=i;this.array[s]=e},_.prototype.heapify=function(e){var i;for(this.array=e,this.size=e.length,i=this.size>>1;i>=0;i--)this._percolateDown(i)},_.prototype._percolateUp=function(e,i){for(var n,s,l=this.array[e];e>0&&(n=e-1>>1,s=this.array[n],!(!i&&!this.compare(l,s)));)this.array[e]=s,e=n;this.array[e]=l},_.prototype._percolateDown=function(e){for(var i,n,s,l=this.size,h=this.size>>>1,u=this.array[e];e<h&&(n=(i=(e<<1)+1)+1,s=this.array[i],n<l&&this.compare(this.array[n],s)&&(i=n,s=this.array[n]),this.compare(s,u));)this.array[e]=s,e=i;this.array[e]=u},_.prototype._removeAt=function(e){if(!(e>this.size-1||e<0))return this._percolateUp(e,!0),this.poll()},_.prototype.remove=function(e){for(var i=0;i<this.size;i++)if(!this.compare(this.array[i],e)&&!this.compare(e,this.array[i]))return this._removeAt(i),!0;return!1},_.prototype.removeOne=function(e){if("function"==typeof e){for(var i=0;i<this.size;i++)if(e(this.array[i]))return this._removeAt(i)}},_.prototype.removeMany=function(e,i){if("function"!=typeof e||this.size<1)return[];i=i?Math.min(i,this.size):this.size;for(var n=0,s=Array(i),l=0,h=Array(this.size);n<i&&!this.isEmpty();){var u=this.poll();e(u)?s[n++]=u:h[l++]=u}s.length=n;for(var d=0;d<l;)this.add(h[d++]);return s},_.prototype.peek=function(){if(0!=this.size)return this.array[0]},_.prototype.poll=function(){if(0!=this.size){var e=this.array[0];return this.size>1?(this.array[0]=this.array[--this.size],this._percolateDown(0)):this.size-=1,e}},_.prototype.replaceTop=function(e){if(0!=this.size){var i=this.array[0];return this.array[0]=e,this._percolateDown(0),i}},_.prototype.trim=function(){this.array=this.array.slice(0,this.size)},_.prototype.isEmpty=function(){return 0===this.size},_.prototype.forEach=function(e){if(!(this.isEmpty()||"function"!=typeof e))for(var i=0,n=this.clone();!n.isEmpty();)e(n.poll(),i++)},_.prototype.kSmallest=function(e){if(0==this.size)return[];e=Math.min(this.size,e);var i=new _(this.compare);let n=Math.min((e>0?Math.pow(2,e-1):0)+1,this.size);i.size=n,i.array=this.array.slice(0,n);for(var s=Array(e),l=0;l<e;l++)s[l]=i.poll();return s},i.exports=_}),p=V((e,i)=>{function lr(e,i,n,s){this.feasible=n,this.evaluation=i,this.bounded=s,this._tableau=e}i.exports=lr,lr.prototype.generateSolutionSet=function(){for(var e={},i=this._tableau,n=i.varIndexByRow,s=i.variablesPerIndex,l=i.matrix,h=i.rhsColumn,u=i.height-1,d=Math.round(1/i.precision),c=1;c<=u;c+=1){var f=s[n[c]];if(!(void 0===f||!0===f.isSlack)){var p=l[c][h];e[f.id]=Math.round((Number.EPSILON+p)*d)/d}}return e}}),v=V((e,i)=>{var n=p();function _e(e,i,s,l,h){n.call(this,e,i,s,l),this.iter=h}i.exports=_e,_e.prototype=Object.create(n.prototype),_e.constructor=_e}),m=V((e,i)=>{var n=p(),s=v();function K(e){this.model=null,this.matrix=null,this.width=0,this.height=0,this.costRowIndex=0,this.rhsColumn=0,this.variablesPerIndex=[],this.unrestrictedVars=null,this.feasible=!0,this.evaluation=0,this.simplexIters=0,this.varIndexByRow=null,this.varIndexByCol=null,this.rowByVarIndex=null,this.colByVarIndex=null,this.precision=e||1e-8,this.optionalObjectives=[],this.objectivesByPriority={},this.savedState=null,this.availableIndexes=[],this.lastElementIndex=0,this.variables=null,this.nVars=0,this.bounded=!0,this.unboundedVarIndex=null,this.branchAndCutIterations=0}function xt(e,i){this.priority=e,this.reducedCosts=Array(i);for(var n=0;n<i;n+=1)this.reducedCosts[n]=0}i.exports=K,K.prototype.solve=function(){return this.model.getNumberOfIntegerVariables()>0?this.branchAndCut():this.simplex(),this.updateVariableValues(),this.getSolution()},xt.prototype.copy=function(){var e=new xt(this.priority,this.reducedCosts.length);return e.reducedCosts=this.reducedCosts.slice(),e},K.prototype.setOptionalObjective=function(e,i,n){var s=this.objectivesByPriority[e];if(void 0===s){var l=Math.max(this.width,i+1);s=new xt(e,l),this.objectivesByPriority[e]=s,this.optionalObjectives.push(s),this.optionalObjectives.sort(function(e,i){return e.priority-i.priority})}s.reducedCosts[i]=n},K.prototype.initialize=function(e,i,n,s){this.variables=n,this.unrestrictedVars=s,this.width=e,this.height=i;for(var l=Array(e),h=0;h<e;h++)l[h]=0;this.matrix=Array(i);for(var u=0;u<i;u++)this.matrix[u]=l.slice();this.varIndexByRow=Array(this.height),this.varIndexByCol=Array(this.width),this.varIndexByRow[0]=-1,this.varIndexByCol[0]=-1,this.nVars=e+i-2,this.rowByVarIndex=Array(this.nVars),this.colByVarIndex=Array(this.nVars),this.lastElementIndex=this.nVars},K.prototype._resetMatrix=function(){var e,i,n=this.model.variables,s=this.model.constraints,l=n.length,h=s.length,u=this.matrix[0],d=!0===this.model.isMinimization?-1:1;for(e=0;e<l;e+=1){var c=n[e],f=c.priority,p=d*c.cost;0===f?u[e+1]=p:this.setOptionalObjective(f,e+1,p),i=n[e].index,this.rowByVarIndex[i]=-1,this.colByVarIndex[i]=e+1,this.varIndexByCol[e+1]=i}for(var v=1,m=0;m<h;m+=1){var y=s[m],x=y.index;this.rowByVarIndex[x]=v,this.colByVarIndex[x]=-1,this.varIndexByRow[v]=x;var b,g,I=y.terms,w=I.length,C=this.matrix[v++];if(y.isUpperBound){for(b=0;b<w;b+=1)g=I[b],C[this.colByVarIndex[g.variable.index]]=g.coefficient;C[0]=y.rhs}else{for(b=0;b<w;b+=1)g=I[b],C[this.colByVarIndex[g.variable.index]]=-g.coefficient;C[0]=-y.rhs}}},K.prototype.setModel=function(e){this.model=e;var i=e.nVariables+1,n=e.nConstraints+1;return this.initialize(i,n,e.variables,e.unrestrictedVariables),this._resetMatrix(),this},K.prototype.getNewElementIndex=function(){if(this.availableIndexes.length>0)return this.availableIndexes.pop();var e=this.lastElementIndex;return this.lastElementIndex+=1,e},K.prototype.density=function(){for(var e=0,i=this.matrix,n=0;n<this.height;n++)for(var s=i[n],l=0;l<this.width;l++)0!==s[l]&&(e+=1);return e/(this.height*this.width)},K.prototype.setEvaluation=function(){var e=Math.round(1/this.precision),i=Math.round((Number.EPSILON+this.matrix[this.costRowIndex][this.rhsColumn])*e)/e;this.evaluation=i,0===this.simplexIters&&(this.bestPossibleEval=i)},K.prototype.getSolution=function(){var e=!0===this.model.isMinimization?this.evaluation:-this.evaluation;return this.model.getNumberOfIntegerVariables()>0?new s(this,e,this.feasible,this.bounded,this.branchAndCutIterations):new n(this,e,this.feasible,this.bounded)}}),y=V(()=>{var e=m();e.prototype.simplex=function(){return this.bounded=!0,this.phase1(),!0===this.feasible&&this.phase2(),this},e.prototype.phase1=function(){for(var e=this.model.checkForCycles,i=[],n=this.matrix,s=this.rhsColumn,l=this.width-1,h=this.height-1,u=0;;){for(var d=0,c=-this.precision,f=1;f<=h;f++){this.unrestrictedVars[this.varIndexByRow[f]];var p=n[f][s];p<c&&(c=p,d=f)}if(0===d)return this.feasible=!0,u;for(var v=0,m=-1/0,y=n[0],x=n[d],b=1;b<=l;b++){var g=x[b];if(!0===this.unrestrictedVars[this.varIndexByCol[b]]||g<-this.precision){var I=-y[b]/g;m<I&&(m=I,v=b)}}if(0===v)return this.feasible=!1,u;if(e){i.push([this.varIndexByRow[d],this.varIndexByCol[v]]);var w=this.checkForCycles(i);if(w.length>0)return this.model.messages.push("Cycle in phase 1"),this.model.messages.push("Start :"+w[0]),this.model.messages.push("Length :"+w[1]),this.feasible=!1,u}this.pivot(d,v),u+=1}},e.prototype.phase2=function(){for(var e,i,n=this.model.checkForCycles,s=[],l=this.matrix,h=this.rhsColumn,u=this.width-1,d=this.height-1,c=this.precision,f=this.optionalObjectives.length,p=null,v=0;;){var m=l[this.costRowIndex];f>0&&(p=[]);for(var y=0,x=c,b=!1,g=1;g<=u;g++){if(e=m[g],i=!0===this.unrestrictedVars[this.varIndexByCol[g]],f>0&&-c<e&&e<c){p.push(g);continue}if(i&&e<0){-e>x&&(x=-e,y=g,b=!0);continue}e>x&&(x=e,y=g,b=!1)}if(f>0)for(var I=0;0===y&&p.length>0&&I<f;){var w=[],C=this.optionalObjectives[I].reducedCosts;x=c;for(var E=0;E<p.length;E++){if(e=C[g=p[E]],i=!0===this.unrestrictedVars[this.varIndexByCol[g]],-c<e&&e<c){w.push(g);continue}if(i&&e<0){-e>x&&(x=-e,y=g,b=!0);continue}e>x&&(x=e,y=g,b=!1)}p=w,I+=1}if(0===y)return this.setEvaluation(),this.simplexIters+=1,v;for(var B=0,M=1/0,k=(this.varIndexByRow,1);k<=d;k++){var N=l[k],O=N[h],S=N[y];if(!(-c<S&&S<c)){if(S>0&&c>O&&O>-c){M=0,B=k;break}var z=b?-O/S:O/S;z>c&&M>z&&(M=z,B=k)}}if(M===1/0)return this.evaluation=-1/0,this.bounded=!1,this.unboundedVarIndex=this.varIndexByCol[y],v;if(n){s.push([this.varIndexByRow[B],this.varIndexByCol[y]]);var j=this.checkForCycles(s);if(j.length>0)return this.model.messages.push("Cycle in phase 2"),this.model.messages.push("Start :"+j[0]),this.model.messages.push("Length :"+j[1]),this.feasible=!1,v}this.pivot(B,y,!0),v+=1}};var i=[];e.prototype.pivot=function(e,n){var s=this.matrix,l=s[e][n],h=this.height-1,u=this.width-1,d=this.varIndexByRow[e],c=this.varIndexByCol[n];this.varIndexByRow[e]=c,this.varIndexByCol[n]=d,this.rowByVarIndex[c]=e,this.rowByVarIndex[d]=-1,this.colByVarIndex[c]=-1,this.colByVarIndex[d]=n;for(var f=s[e],p=0,v=0;v<=u;v++)f[v]>=-.0000000000000001&&f[v]<=1e-16?f[v]=0:(f[v]/=l,i[p]=v,p+=1);f[n]=1/l,this.precision;for(var m,y,x,b=0;b<=h;b++)if(b!==e&&!(s[b][n]>=-.0000000000000001&&s[b][n]<=1e-16)){var g=s[b];if((m=g[n])>=-.0000000000000001&&m<=1e-16)0!==m&&(g[n]=0);else{for(y=0;y<p;y++)(x=f[v=i[y]])>=-.0000000000000001&&x<=1e-16?0!==x&&(f[v]=0):g[v]=g[v]-m*x;g[n]=-m/l}}var I=this.optionalObjectives.length;if(I>0)for(var w=0;w<I;w+=1){var C=this.optionalObjectives[w].reducedCosts;if(0!==(m=C[n])){for(y=0;y<p;y++)0!==(x=f[v=i[y]])&&(C[v]=C[v]-m*x);C[n]=-m/l}}},e.prototype.checkForCycles=function(e){for(var i=0;i<e.length-1;i++)for(var n=i+1;n<e.length;n++){var s=e[i],l=e[n];if(s[0]===l[0]&&s[1]===l[1]){if(n-i>e.length-n)break;for(var h=!0,u=1;u<n-i;u++){var d=e[i+u],c=e[n+u];if(d[0]!==c[0]||d[1]!==c[1]){h=!1;break}}if(h)return[i,n-i]}}return[]}}),x=V((e,i)=>{function vt(e,i,n,s){this.id=e,this.cost=i,this.index=n,this.value=0,this.priority=s}function Nr(e,i,n,s){vt.call(this,e,i,n,s)}function bt(e,i){vt.call(this,e,0,i,0)}function vr(e,i){this.variable=e,this.coefficient=i}function br(e,i,n){return 0===n||"required"===n?null:(i=i||1,n=n||1,!1===e.isMinimization&&(i=-i),e.addVariable(i,"r"+e.relaxationIndex++,!1,!1,n))}function ae(e,i,n,s){this.slack=new bt("s"+n,n),this.index=n,this.model=s,this.rhs=e,this.isUpperBound=i,this.terms=[],this.termsByVarIndex={},this.relaxation=null}function me(e,i){this.upperBound=e,this.lowerBound=i,this.model=e.model,this.rhs=e.rhs,this.relaxation=null}Nr.prototype.isInteger=!0,bt.prototype.isSlack=!0,ae.prototype.addTerm=function(e,i){var n=i.index,s=this.termsByVarIndex[n];if(void 0===s)s=new vr(i,e),this.termsByVarIndex[n]=s,this.terms.push(s),!0===this.isUpperBound&&(e=-e),this.model.updateConstraintCoefficient(this,i,e);else{var l=s.coefficient+e;this.setVariableCoefficient(l,i)}return this},ae.prototype.removeTerm=function(e){return this},ae.prototype.setRightHandSide=function(e){if(e!==this.rhs){var i=e-this.rhs;!0===this.isUpperBound&&(i=-i),this.rhs=e,this.model.updateRightHandSide(this,i)}return this},ae.prototype.setVariableCoefficient=function(e,i){var n=i.index;if(-1===n){console.warn("[Constraint.setVariableCoefficient] Trying to change coefficient of inexistant variable.");return}var s=this.termsByVarIndex[n];if(void 0===s)this.addTerm(e,i);else if(e!==s.coefficient){var l=e-s.coefficient;!0===this.isUpperBound&&(l=-l),s.coefficient=e,this.model.updateConstraintCoefficient(this,i,l)}return this},ae.prototype.relax=function(e,i){this.relaxation=br(this.model,e,i),this._relax(this.relaxation)},ae.prototype._relax=function(e){null!==e&&(this.isUpperBound?this.setVariableCoefficient(-1,e):this.setVariableCoefficient(1,e))},me.prototype.isEquality=!0,me.prototype.addTerm=function(e,i){return this.upperBound.addTerm(e,i),this.lowerBound.addTerm(e,i),this},me.prototype.removeTerm=function(e){return this.upperBound.removeTerm(e),this.lowerBound.removeTerm(e),this},me.prototype.setRightHandSide=function(e){this.upperBound.setRightHandSide(e),this.lowerBound.setRightHandSide(e),this.rhs=e},me.prototype.relax=function(e,i){this.relaxation=br(this.model,e,i),this.upperBound.relaxation=this.relaxation,this.upperBound._relax(this.relaxation),this.lowerBound.relaxation=this.relaxation,this.lowerBound._relax(this.relaxation)},i.exports={Constraint:ae,Variable:vt,IntegerVariable:Nr,SlackVariable:bt,Equality:me,Term:vr}}),b=V(()=>{var e=m(),i=x().SlackVariable;e.prototype.addCutConstraints=function(e){for(var n=e.length,s=this.height,l=s+n,h=s;h<l;h+=1)void 0===this.matrix[h]&&(this.matrix[h]=this.matrix[h-1].slice());this.height=l,this.nVars=this.width+this.height-2;for(var u,d=this.width-1,c=0;c<n;c+=1){var f=e[c],p=s+c,v="min"===f.type?-1:1,m=f.varIndex,y=this.rowByVarIndex[m],x=this.matrix[p];if(-1===y){for(x[this.rhsColumn]=v*f.value,u=1;u<=d;u+=1)x[u]=0;x[this.colByVarIndex[m]]=v}else{var b=this.matrix[y],g=b[this.rhsColumn];for(x[this.rhsColumn]=v*(f.value-g),u=1;u<=d;u+=1)x[u]=-v*b[u]}var I=this.getNewElementIndex();this.varIndexByRow[p]=I,this.rowByVarIndex[I]=p,this.colByVarIndex[I]=-1,this.variablesPerIndex[I]=new i("s"+I,I),this.nVars+=1}},e.prototype._addLowerBoundMIRCut=function(e){if(e===this.costRowIndex)return!1;this.model;var n=this.matrix;if(!this.variablesPerIndex[this.varIndexByRow[e]].isInteger)return!1;var s=n[e][this.rhsColumn],l=s-Math.floor(s);if(l<this.precision||1-this.precision<l)return!1;var h=this.height;n[h]=n[h-1].slice(),this.height+=1,this.nVars+=1;var u=this.getNewElementIndex();this.varIndexByRow[h]=u,this.rowByVarIndex[u]=h,this.colByVarIndex[u]=-1,this.variablesPerIndex[u]=new i("s"+u,u),n[h][this.rhsColumn]=Math.floor(s);for(var d=1;d<this.varIndexByCol.length;d+=1)if(this.variablesPerIndex[this.varIndexByCol[d]].isInteger){var c=n[e][d],f=Math.floor(c)+Math.max(0,c-Math.floor(c)-l)/(1-l);n[h][d]=f}else n[h][d]=Math.min(0,n[e][d]/(1-l));for(var p=0;p<this.width;p+=1)n[h][p]-=n[e][p];return!0},e.prototype._addUpperBoundMIRCut=function(e){if(e===this.costRowIndex)return!1;this.model;var n=this.matrix;if(!this.variablesPerIndex[this.varIndexByRow[e]].isInteger)return!1;var s=n[e][this.rhsColumn],l=s-Math.floor(s);if(l<this.precision||1-this.precision<l)return!1;var h=this.height;n[h]=n[h-1].slice(),this.height+=1,this.nVars+=1;var u=this.getNewElementIndex();this.varIndexByRow[h]=u,this.rowByVarIndex[u]=h,this.colByVarIndex[u]=-1,this.variablesPerIndex[u]=new i("s"+u,u),n[h][this.rhsColumn]=-l;for(var d=1;d<this.varIndexByCol.length;d+=1){var c=this.variablesPerIndex[this.varIndexByCol[d]],f=n[e][d],p=f-Math.floor(f);c.isInteger?p<=l?n[h][d]=-p:n[h][d]=-(1-p)*l/p:f>=0?n[h][d]=-f:n[h][d]=f*l/(1-l)}return!0},e.prototype.applyMIRCuts=function(){}}),g=V(()=>{var e=m();e.prototype._putInBase=function(e){var i=this.rowByVarIndex[e];if(-1===i){for(var n=this.colByVarIndex[e],s=1;s<this.height;s+=1){var l=this.matrix[s][n];if(l<-this.precision||this.precision<l){i=s;break}}this.pivot(i,n)}return i},e.prototype._takeOutOfBase=function(e){var i=this.colByVarIndex[e];if(-1===i){for(var n=this.rowByVarIndex[e],s=this.matrix[n],l=1;l<this.height;l+=1){var h=s[l];if(h<-this.precision||this.precision<h){i=l;break}}this.pivot(n,i)}return i},e.prototype.updateVariableValues=function(){for(var e=this.variables.length,i=Math.round(1/this.precision),n=0;n<e;n+=1){var s=this.variables[n],l=s.index,h=this.rowByVarIndex[l];if(-1===h)s.value=0;else{var u=this.matrix[h][this.rhsColumn];s.value=Math.round((u+Number.EPSILON)*i)/i}}},e.prototype.updateRightHandSide=function(e,i){var n=this.height-1,s=this.rowByVarIndex[e.index];if(-1===s){for(var l=this.colByVarIndex[e.index],h=0;h<=n;h+=1){var u=this.matrix[h];u[this.rhsColumn]-=i*u[l]}var d=this.optionalObjectives.length;if(d>0)for(var c=0;c<d;c+=1){var f=this.optionalObjectives[c].reducedCosts;f[this.rhsColumn]-=i*f[l]}}else this.matrix[s][this.rhsColumn]-=i},e.prototype.updateConstraintCoefficient=function(e,i,n){if(e.index===i.index)throw Error("[Tableau.updateConstraintCoefficient] constraint index should not be equal to variable index !");var s=this._putInBase(e.index),l=this.colByVarIndex[i.index];if(-1===l)for(var h=this.rowByVarIndex[i.index],u=0;u<this.width;u+=1)this.matrix[s][u]+=n*this.matrix[h][u];else this.matrix[s][l]-=n},e.prototype.updateCost=function(e,i){var n=e.index,s=this.width-1,l=this.colByVarIndex[n];if(-1===l){var h,u=this.matrix[this.rowByVarIndex[n]];if(0===e.priority){var d=this.matrix[0];for(h=0;h<=s;h+=1)d[h]+=i*u[h]}else{var c=this.objectivesByPriority[e.priority].reducedCosts;for(h=0;h<=s;h+=1)c[h]+=i*u[h]}}else this.matrix[0][l]-=i},e.prototype.addConstraint=function(e){var i=e.isUpperBound?1:-1,n=this.height,s=this.matrix[n];void 0===s&&(s=this.matrix[0].slice(),this.matrix[n]=s);for(var l=this.width-1,h=0;h<=l;h+=1)s[h]=0;s[this.rhsColumn]=i*e.rhs;for(var u=e.terms,d=u.length,c=0;c<d;c+=1){var f=u[c],p=f.coefficient,v=f.variable.index,m=this.rowByVarIndex[v];if(-1===m)s[this.colByVarIndex[v]]+=i*p;else{var y=this.matrix[m];for(y[this.rhsColumn],h=0;h<=l;h+=1)s[h]-=i*p*y[h]}}var x=e.index;this.varIndexByRow[n]=x,this.rowByVarIndex[x]=n,this.colByVarIndex[x]=-1,this.height+=1},e.prototype.removeConstraint=function(e){var i=e.index,n=this.height-1,s=this._putInBase(i),l=this.matrix[n];this.matrix[n]=this.matrix[s],this.matrix[s]=l,this.varIndexByRow[s]=this.varIndexByRow[n],this.varIndexByRow[n]=-1,this.rowByVarIndex[i]=-1,this.availableIndexes[this.availableIndexes.length]=i,e.slack.index=-1,this.height-=1},e.prototype.addVariable=function(e){var i=this.height-1,n=this.width,s=!0===this.model.isMinimization?-e.cost:e.cost,l=e.priority,h=this.optionalObjectives.length;if(h>0)for(var u=0;u<h;u+=1)this.optionalObjectives[u].reducedCosts[n]=0;0===l?this.matrix[0][n]=s:(this.setOptionalObjective(l,n,s),this.matrix[0][n]=0);for(var d=1;d<=i;d+=1)this.matrix[d][n]=0;var c=e.index;this.varIndexByCol[n]=c,this.rowByVarIndex[c]=-1,this.colByVarIndex[c]=n,this.width+=1},e.prototype.removeVariable=function(e){var i=e.index,n=this._takeOutOfBase(i),s=this.width-1;if(n!==s){for(var l=this.height-1,h=0;h<=l;h+=1){var u=this.matrix[h];u[n]=u[s]}var d=this.optionalObjectives.length;if(d>0)for(var c=0;c<d;c+=1){var f=this.optionalObjectives[c].reducedCosts;f[n]=f[s]}var p=this.varIndexByCol[s];this.varIndexByCol[n]=p,this.colByVarIndex[p]=n}this.varIndexByCol[s]=-1,this.colByVarIndex[i]=-1,this.availableIndexes[this.availableIndexes.length]=i,e.index=-1,this.width-=1}}),I=V(()=>{m().prototype.log=function(e,i){console.log("****",e,"****"),console.log("Nb Variables",this.width-1),console.log("Nb Constraints",this.height-1),console.log("Basic Indexes",this.varIndexByRow),console.log("Non Basic Indexes",this.varIndexByCol),console.log("Rows",this.rowByVarIndex),console.log("Cols",this.colByVarIndex);var n,s,l,h,u,d,c,f,p,v,m,y="",x=[" "];for(s=1;s<this.width;s+=1)u=this.varIndexByCol[s],c=(d=void 0===(h=this.variablesPerIndex[u])?"c"+u:h.id).length,f=" ",p="	",c>5?f+=" ":p+="	",x[s]=f,y+=p+d;console.log(y);var b=this.matrix[this.costRowIndex],g="	";for(n=1;n<this.width;n+=1)g+="	"+x[n]+b[n].toFixed(5);for(console.log((g+="	"+x[0]+b[0].toFixed(5))+"	Z"),l=1;l<this.height;l+=1){for(v=this.matrix[l],m="	",s=1;s<this.width;s+=1)m+="	"+x[s]+v[s].toFixed(5);m+="	"+x[0]+v[0].toFixed(5),u=this.varIndexByRow[l],console.log(m+"	"+(d=void 0===(h=this.variablesPerIndex[u])?"c"+u:h.id))}console.log("");var I=this.optionalObjectives.length;if(I>0){console.log("    Optional objectives:");for(var w=0;w<I;w+=1){var C=this.optionalObjectives[w].reducedCosts,E="";for(n=1;n<this.width;n+=1)E+=(C[n]<0?"":" ")+x[n]+C[n].toFixed(5);console.log((E+=(C[0]<0?"":" ")+x[0]+C[0].toFixed(5))+" z"+w)}}return console.log("Feasible?",this.feasible),console.log("evaluation",this.evaluation),this}}),w=V(()=>{var e=m();e.prototype.copy=function(){var i=new e(this.precision);i.width=this.width,i.height=this.height,i.nVars=this.nVars,i.model=this.model,i.variables=this.variables,i.variablesPerIndex=this.variablesPerIndex,i.unrestrictedVars=this.unrestrictedVars,i.lastElementIndex=this.lastElementIndex,i.varIndexByRow=this.varIndexByRow.slice(),i.varIndexByCol=this.varIndexByCol.slice(),i.rowByVarIndex=this.rowByVarIndex.slice(),i.colByVarIndex=this.colByVarIndex.slice(),i.availableIndexes=this.availableIndexes.slice();for(var n=[],s=0;s<this.optionalObjectives.length;s++)n[s]=this.optionalObjectives[s].copy();i.optionalObjectives=n;for(var l=this.matrix,h=Array(this.height),u=0;u<this.height;u++)h[u]=l[u].slice();return i.matrix=h,i},e.prototype.save=function(){this.savedState=this.copy()},e.prototype.restore=function(){if(null!==this.savedState){var e,i,n=this.savedState,s=n.matrix;for(this.nVars=n.nVars,this.model=n.model,this.variables=n.variables,this.variablesPerIndex=n.variablesPerIndex,this.unrestrictedVars=n.unrestrictedVars,this.lastElementIndex=n.lastElementIndex,this.width=n.width,this.height=n.height,e=0;e<this.height;e+=1){var l=s[e],h=this.matrix[e];for(i=0;i<this.width;i+=1)h[i]=l[i]}var u=n.varIndexByRow;for(i=0;i<this.height;i+=1)this.varIndexByRow[i]=u[i];for(;this.varIndexByRow.length>this.height;)this.varIndexByRow.pop();var d=n.varIndexByCol;for(e=0;e<this.width;e+=1)this.varIndexByCol[e]=d[e];for(;this.varIndexByCol.length>this.width;)this.varIndexByCol.pop();for(var c=n.rowByVarIndex,f=n.colByVarIndex,p=0;p<this.nVars;p+=1)this.rowByVarIndex[p]=c[p],this.colByVarIndex[p]=f[p];if(n.optionalObjectives.length>0&&this.optionalObjectives.length>0){this.optionalObjectives=[],this.optionalObjectivePerPriority={};for(var v=0;v<n.optionalObjectives.length;v++){var m=n.optionalObjectives[v].copy();this.optionalObjectives[v]=m,this.optionalObjectivePerPriority[m.priority]=m}}}}}),C=V(()=>{var e=m();function Cr(e,i){this.index=e,this.value=i}e.prototype.getMostFractionalVar=function(){for(var e=0,i=null,n=null,s=this.model.integerVariables,l=s.length,h=0;h<l;h++){var u=s[h].index,d=this.rowByVarIndex[u];if(-1!==d){var c=this.matrix[d][this.rhsColumn],f=Math.abs(c-Math.round(c));e<f&&(e=f,i=u,n=c)}}return new Cr(i,n)},e.prototype.getFractionalVarWithLowestCost=function(){for(var e=1/0,i=null,n=null,s=this.model.integerVariables,l=s.length,h=0;h<l;h++){var u=s[h],d=u.index,c=this.rowByVarIndex[d];if(-1!==c){var f=this.matrix[c][this.rhsColumn];if(Math.abs(f-Math.round(f))>this.precision){var p=u.cost;e>p&&(e=p,i=d,n=f)}}}return new Cr(i,n)}}),E=V(()=>{var e=m();e.prototype.countIntegerValues=function(){for(var e=0,i=1;i<this.height;i+=1)if(this.variablesPerIndex[this.varIndexByRow[i]].isInteger){var n=this.matrix[i][this.rhsColumn];(n-=Math.floor(n))<this.precision&&-n<this.precision&&(e+=1)}return e},e.prototype.isIntegral=function(){for(var e=this.model.integerVariables,i=e.length,n=0;n<i;n++){var s=this.rowByVarIndex[e[n].index];if(-1!==s){var l=this.matrix[s][this.rhsColumn];if(Math.abs(l-Math.round(l))>this.precision)return!1}}return!0},e.prototype.computeFractionalVolume=function(e){for(var i=-1,n=1;n<this.height;n+=1)if(this.variablesPerIndex[this.varIndexByRow[n]].isInteger){var s=this.matrix[n][this.rhsColumn];if(Math.min((s=Math.abs(s))-Math.floor(s),Math.floor(s+1))<this.precision){if(!e)return 0}else -1===i?i=s:i*=s}return -1===i?0:i}}),B=V((e,i)=>{y(),b(),g(),I(),w(),C(),E(),i.exports=m()}),M=V(()=>{var e=m();function Ar(e,i,n){this.type=e,this.varIndex=i,this.value=n}function wt(e,i){this.relaxedEvaluation=e,this.cuts=i}function Wo(e,i){return i.relaxedEvaluation-e.relaxedEvaluation}e.prototype.applyCuts=function(e){if(this.restore(),this.addCutConstraints(e),this.simplex(),this.model.useMIRCuts)for(var i=!0;i;){var n=this.computeFractionalVolume(!0);this.applyMIRCuts(),this.simplex(),this.computeFractionalVolume(!0)>=.9*n&&(i=!1)}},e.prototype.branchAndCut=function(){var e=[],i=0,n=this.model.tolerance,s=!0,l=1e99;this.model.timeout&&(l=Date.now()+this.model.timeout);for(var h=1/0,u=null,d=[],c=0;c<this.optionalObjectives.length;c+=1)d.push(1/0);var f,p=new wt(-1/0,[]);for(e.push(p);e.length>0&&!0===s&&Date.now()<l;)if(f=this.model.isMinimization?this.bestPossibleEval*(1+n):this.bestPossibleEval*(1-n),n>0&&h<f&&(s=!1),!((p=e.pop()).relaxedEvaluation>h)){var v=p.cuts;if(this.applyCuts(v),i++,!1!==this.feasible){var m=this.evaluation;if(!(m>h)){if(m===h){for(var y=!0,x=0;x<this.optionalObjectives.length&&!(this.optionalObjectives[x].reducedCosts[0]>d[x]);x+=1)if(this.optionalObjectives[x].reducedCosts[0]<d[x]){y=!1;break}if(y)continue}if(!0===this.isIntegral()){if(this.__isIntegral=!0,1===i){this.branchAndCutIterations=i;return}u=p,h=m;for(var b=0;b<this.optionalObjectives.length;b+=1)d[b]=this.optionalObjectives[b].reducedCosts[0]}else{1===i&&this.save();for(var g=this.getMostFractionalVar(),I=g.index,w=[],C=[],E=v.length,B=0;B<E;B+=1){var M=v[B];M.varIndex===I?"min"===M.type?C.push(M):w.push(M):(w.push(M),C.push(M))}var k=Math.ceil(g.value),N=Math.floor(g.value),O=new Ar("min",I,k);w.push(O);var S=new Ar("max",I,N);C.push(S),e.push(new wt(m,w)),e.push(new wt(m,C)),e.sort(Wo)}}}}null!==u&&this.applyCuts(u.cuts),this.branchAndCutIterations=i}}),k=V((e,i)=>{var n=m(),s=(M(),x()),l=s.Constraint,h=s.Equality,u=s.Variable,d=s.IntegerVariable;function R(e,i){this.tableau=new n(e),this.name=i,this.variables=[],this.integerVariables=[],this.unrestrictedVariables={},this.constraints=[],this.nConstraints=0,this.nVariables=0,this.isMinimization=!0,this.tableauInitialized=!1,this.relaxationIndex=1,this.useMIRCuts=!1,this.checkForCycles=!0,this.messages=[]}s.Term,i.exports=R,R.prototype.minimize=function(){return this.isMinimization=!0,this},R.prototype.maximize=function(){return this.isMinimization=!1,this},R.prototype._getNewElementIndex=function(){if(this.availableIndexes.length>0)return this.availableIndexes.pop();var e=this.lastElementIndex;return this.lastElementIndex+=1,e},R.prototype._addConstraint=function(e){var i=e.slack;this.tableau.variablesPerIndex[i.index]=i,this.constraints.push(e),this.nConstraints+=1,!0===this.tableauInitialized&&this.tableau.addConstraint(e)},R.prototype.smallerThan=function(e){var i=new l(e,!0,this.tableau.getNewElementIndex(),this);return this._addConstraint(i),i},R.prototype.greaterThan=function(e){var i=new l(e,!1,this.tableau.getNewElementIndex(),this);return this._addConstraint(i),i},R.prototype.equal=function(e){var i=new l(e,!0,this.tableau.getNewElementIndex(),this);this._addConstraint(i);var n=new l(e,!1,this.tableau.getNewElementIndex(),this);return this._addConstraint(n),new h(i,n)},R.prototype.addVariable=function(e,i,n,s,l){if("string"==typeof l)switch(l){case"required":default:l=0;break;case"strong":l=1;break;case"medium":l=2;break;case"weak":l=3}var h,c=this.tableau.getNewElementIndex();return null==i&&(i="v"+c),null==e&&(e=0),null==l&&(l=0),n?(h=new d(i,e,c,l),this.integerVariables.push(h)):h=new u(i,e,c,l),this.variables.push(h),this.tableau.variablesPerIndex[c]=h,s&&(this.unrestrictedVariables[c]=!0),this.nVariables+=1,!0===this.tableauInitialized&&this.tableau.addVariable(h),h},R.prototype._removeConstraint=function(e){var i=this.constraints.indexOf(e);if(-1===i){console.warn("[Model.removeConstraint] Constraint not present in model");return}this.constraints.splice(i,1),this.nConstraints-=1,!0===this.tableauInitialized&&this.tableau.removeConstraint(e),e.relaxation&&this.removeVariable(e.relaxation)},R.prototype.removeConstraint=function(e){return e.isEquality?(this._removeConstraint(e.upperBound),this._removeConstraint(e.lowerBound)):this._removeConstraint(e),this},R.prototype.removeVariable=function(e){var i=this.variables.indexOf(e);if(-1===i){console.warn("[Model.removeVariable] Variable not present in model");return}return this.variables.splice(i,1),!0===this.tableauInitialized&&this.tableau.removeVariable(e),this},R.prototype.updateRightHandSide=function(e,i){return!0===this.tableauInitialized&&this.tableau.updateRightHandSide(e,i),this},R.prototype.updateConstraintCoefficient=function(e,i,n){return!0===this.tableauInitialized&&this.tableau.updateConstraintCoefficient(e,i,n),this},R.prototype.setCost=function(e,i){var n=e-i.cost;return!1===this.isMinimization&&(n=-n),i.cost=e,this.tableau.updateCost(i,n),this},R.prototype.loadJson=function(e){this.isMinimization="max"!==e.opType;for(var i=e.variables,n=e.constraints,s={},l={},u=Object.keys(n),d=u.length,c=0;c<d;c+=1){var f,p,v=u[c],m=n[v],y=m.equal,x=m.weight,b=m.priority,g=void 0!==x||void 0!==b;if(void 0===y){var I=m.min;void 0!==I&&(f=this.greaterThan(I),s[v]=f,g&&f.relax(x,b));var w=m.max;void 0!==w&&(p=this.smallerThan(w),l[v]=p,g&&p.relax(x,b))}else{f=this.greaterThan(y),s[v]=f,p=this.smallerThan(y),l[v]=p;var C=new h(f,p);g&&C.relax(x,b)}}var E=Object.keys(i),B=E.length;this.tolerance=e.tolerance||0,e.timeout&&(this.timeout=e.timeout),e.options&&(e.options.timeout&&(this.timeout=e.options.timeout),0===this.tolerance&&(this.tolerance=e.options.tolerance||0),e.options.useMIRCuts&&(this.useMIRCuts=e.options.useMIRCuts),typeof e.options.exitOnCycles>"u"?this.checkForCycles=!0:this.checkForCycles=e.options.exitOnCycles);for(var M=e.ints||{},k=e.binaries||{},N=e.unrestricted||{},O=e.optimize,S=0;S<B;S+=1){var z=E[S],j=i[z],A=j[O]||0,T=!!k[z],L=!!M[z]||T,q=!!N[z],$=this.addVariable(A,z,L,q);T&&this.smallerThan(1).addTerm(1,$);var D=Object.keys(j);for(c=0;c<D.length;c+=1){var G=D[c];if(G!==O){var W=j[G],Y=s[G];void 0!==Y&&Y.addTerm(W,$);var Q=l[G];void 0!==Q&&Q.addTerm(W,$)}}}return this},R.prototype.getNumberOfIntegerVariables=function(){return this.integerVariables.length},R.prototype.solve=function(){return!1===this.tableauInitialized&&(this.tableau.setModel(this),this.tableauInitialized=!0),this.tableau.solve()},R.prototype.isFeasible=function(){return this.tableau.feasible},R.prototype.save=function(){return this.tableau.save()},R.prototype.restore=function(){return this.tableau.restore()},R.prototype.activateMIRCuts=function(e){this.useMIRCuts=e},R.prototype.debug=function(e){this.checkForCycles=e},R.prototype.log=function(e){return this.tableau.log(e)}}),N=V(e=>{e.CleanObjectiveAttributes=function(e){var i,n,s;if("string"==typeof e.optimize){if(!e.constraints[e.optimize])return e;for(n in i=Math.random(),e.variables)e.variables[n][e.optimize]&&(e.variables[n][i]=e.variables[n][e.optimize]);return e.constraints[i]=e.constraints[e.optimize],delete e.constraints[e.optimize],e}for(s in e.optimize)if(e.constraints[s]){if("equal"===e.constraints[s])delete e.optimize[s];else{for(n in i=Math.random(),e.variables)e.variables[n][s]&&(e.variables[n][i]=e.variables[n][s]);e.constraints[i]=e.constraints[s],delete e.constraints[s]}}return e}}),O=V((e,i)=>{i.exports=function(e){return e.length?function(e){var i={is_objective:/(max|min)(imize){0,}\:/i,is_int:/^(?!\/\*)\W{0,}int/i,is_bin:/^(?!\/\*)\W{0,}bin/i,is_constraint:/(\>|\<){0,}\=/i,is_unrestricted:/^\S{0,}unrestricted/i,parse_lhs:/(\-|\+){0,1}\s{0,1}\d{0,}\.{0,}\d{0,}\s{0,}[A-Za-z]\S{0,}/gi,parse_rhs:/(\-|\+){0,1}\d{1,}\.{0,}\d{0,}\W{0,}\;{0,1}$/i,parse_dir:/(\>|\<){0,}\=/gi,parse_int:/[^\s|^\,]+/gi,parse_bin:/[^\s|^\,]+/gi,get_num:/(\-|\+){0,1}(\W|^)\d+\.{0,1}\d{0,}/g,get_word:/[A-Za-z].*/},n={opType:"",optimize:"_obj",constraints:{},variables:{}},s={">=":"min","<=":"max","=":"equal"},l="",h=null,u="",d="",c="",f=0;"string"==typeof e&&(e=e.split(`
`));for(var p=0;p<e.length;p++)if(c="__"+p,l=e[p],h=null,i.is_objective.test(l))n.opType=l.match(/(max|min)/gi)[0],(h=l.match(i.parse_lhs).map(function(e){return e.replace(/\s+/,"")}).slice(1)).forEach(function(e){u=parseFloat(u=null===(u=e.match(i.get_num))?"-"===e.substr(0,1)?-1:1:u[0]),d=e.match(i.get_word)[0].replace(/\;$/,""),n.variables[d]=n.variables[d]||{},n.variables[d]._obj=u});else if(i.is_int.test(l))h=l.match(i.parse_int).slice(1),n.ints=n.ints||{},h.forEach(function(e){e=e.replace(";",""),n.ints[e]=1});else if(i.is_bin.test(l))h=l.match(i.parse_bin).slice(1),n.binaries=n.binaries||{},h.forEach(function(e){e=e.replace(";",""),n.binaries[e]=1});else if(i.is_constraint.test(l)){var v=l.indexOf(":");(h=(-1===v?l:l.slice(v+1)).match(i.parse_lhs).map(function(e){return e.replace(/\s+/,"")})).forEach(function(e){u=parseFloat(u=null===(u=e.match(i.get_num))?"-"===e.substr(0,1)?-1:1:u[0]),d=e.match(i.get_word)[0],n.variables[d]=n.variables[d]||{},n.variables[d][c]=u}),f=parseFloat(l.match(i.parse_rhs)[0]),l=s[l.match(i.parse_dir)[0]],n.constraints[c]=n.constraints[c]||{},n.constraints[c][l]=f}else i.is_unrestricted.test(l)&&(h=l.match(i.parse_int).slice(1),n.unrestricted=n.unrestricted||{},h.forEach(function(e){e=e.replace(";",""),n.unrestricted[e]=1}));return n}(e):function(e){if(!e)throw Error("Solver requires a model to operate on");var i="",n={max:"<=",min:">=",equal:"="},s=RegExp("[^A-Za-z0-9_[{}/.&#$%~'@^]","gi");if(e.opType)for(var l in i+=e.opType+":",e.variables)e.variables[l][l]=e.variables[l][l]?e.variables[l][l]:1,e.variables[l][e.optimize]&&(i+=" "+e.variables[l][e.optimize]+" "+l.replace(s,"_"));else i+="max:";for(var h in i+=`;

`,e.constraints)for(var u in e.constraints[h])if("u">typeof n[u]){for(var d in e.variables)"u">typeof e.variables[d][h]&&(i+=" "+e.variables[d][h]+" "+d.replace(s,"_"));i+=" "+n[u]+" "+e.constraints[h][u]+`;
`}if(e.ints)for(var c in i+=`

`,e.ints)i+="int "+c.replace(s,"_")+`;
`;if(e.unrestricted)for(var f in i+=`

`,e.unrestricted)i+="unrestricted "+f.replace(s,"_")+`;
`;return i}(e)}}),S=V(()=>{}),z=V(()=>{}),j=V(e=>{function Ur(e){return e=(e=(e=e.replace("\\r\\n",`\r
`)).split(`\r
`)).filter(function(e){return!(!0===RegExp(" 0$","gi").test(e)||!1===RegExp("\\d$","gi").test(e))}).map(function(e){return e.split(/\:{0,1} +(?=\d)/)}).reduce(function(e,i,n){return e[i[0]]=i[1],e},{})}e.reformat=O(),e.solve=function(e){return new Promise(function(i,n){"u">typeof window&&n("Function Not Available in Browser");var s=O()(e);e.external||n("Data for this function must be contained in the 'external' attribute. Not seeing anything there."),e.external.binPath||n("No Executable | Binary path provided in arguments as 'binPath'"),e.external.args||n("No arguments array for cli | bash provided on 'args' attribute"),e.external.tempName||n("No 'tempName' given. This is necessary to produce a staging file for the solver to operate on"),S().writeFile(e.external.tempName,s,function(s,l){if(s)n(s);else{var h=z().execFile;e.external.args.push(e.external.tempName),h(e.external.binPath,e.external.args,function(e,s){e?1===e.code?i(Ur(s)):n({code:e.code,meaning:{"-2":"Out of Memory",1:"SUBOPTIMAL",2:"INFEASIBLE",3:"UNBOUNDED",4:"DEGENERATE",5:"NUMFAILURE",6:"USER-ABORT",7:"TIMEOUT",9:"PRESOLVED",25:"ACCURACY ERROR",255:"FILE-ERROR"}[e.code],data:s}):i(Ur(s))})}})})}}),A=V((e,i)=>{i.exports={lpsolve:j()}}),T=V((e,i)=>{i.exports=function(e,i){var n,s,l,h,u,d=i.optimize,c=JSON.parse(JSON.stringify(i.optimize)),f=Object.keys(i.optimize),p=0,v={},m="",y={},x=[];for(delete i.optimize,s=0;s<f.length;s++)c[f[s]]=0;for(s=0;s<f.length;s++){for(u in i.optimize=f[s],i.opType=d[f[s]],n=e.Solve(i,void 0,void 0,!0),f)if(!i.variables[f[u]])for(h in n[f[u]]=n[f[u]]?n[f[u]]:0,i.variables)i.variables[h][f[u]]&&n[h]&&(n[f[u]]+=n[h]*i.variables[h][f[u]]);for(m="base",l=0;l<f.length;l++)n[f[l]]?m+="-"+(1e3*n[f[l]]|0)/1e3:m+="-0";if(!v[m]){for(v[m]=1,p++,l=0;l<f.length;l++)n[f[l]]&&(c[f[l]]+=n[f[l]]);delete n.feasible,delete n.result,x.push(n)}}for(s=0;s<f.length;s++)i.constraints[f[s]]={equal:c[f[s]]/p};for(s in i.optimize="cheater-"+Math.random(),i.opType="max",i.variables)i.variables[s].cheater=1;for(s in x)for(h in x[s])y[h]=y[h]||{min:1e99,max:-1e99};for(s in y)for(h in x)x[h][s]?(x[h][s]>y[s].max&&(y[s].max=x[h][s]),x[h][s]<y[s].min&&(y[s].min=x[h][s])):(x[h][s]=0,y[s].min=0);return{midpoint:n=e.Solve(i,void 0,void 0,!0),vertices:x,ranges:y}}}),L=V((e,i)=>{var n=B(),s=k(),l=M(),h=x(),u=N(),d=h.Constraint,c=h.Variable,f=h.Numeral,p=h.Term,v=A(),je=function(){this.Model=s,this.branchAndCut=l,this.Constraint=d,this.Variable=c,this.Numeral=f,this.Term=p,this.Tableau=n,this.lastSolvedModel=null,this.External=v,this.Solve=function(e,i,n,l){if(l)for(var h in u)e=u[h](e);if(!e)throw Error("Solver requires a model to operate on");if("object"==typeof e.optimize&&Object.keys(e.optimize>1))return T()(this,e);if(e.external){var d=Object.keys(v);if(d=JSON.stringify(d),!e.external.solver)throw Error("The model you provided has an 'external' object that doesn't have a solver attribute. Use one of the following:"+d);if(!v[e.external.solver])throw Error("No support (yet) for "+e.external.solver+". Please use one of these instead:"+d);return v[e.external.solver].solve(e)}e instanceof s||(e=new s(i).loadJson(e));var c=e.solve();if(this.lastSolvedModel=e,c.solutionSet=c.generateSolutionSet(),n)return c;var f={};return f.feasible=c.feasible,f.result=c.evaluation,f.bounded=c.bounded,c._tableau.__isIntegral&&(f.isIntegral=!0),Object.keys(c.solutionSet).forEach(function(e){0!==c.solutionSet[e]&&(f[e]=c.solutionSet[e])}),f},this.ReformatLP=O(),this.MultiObjective=function(e){return T()(this,e)}};"function"==typeof define?define([],function(){return new je}):"object"==typeof window?window.solver=new je:"object"==typeof self&&(self.solver=new je),i.exports=new je}),q=V((e,i)=>{var n,s,l=1e-60;do l+=l,n=1+.1*l,s=1+.2*l;while(n<=1||s<=1);i.exports=l}),$=V((e,i)=>{i.exports=function(e,i,n){let s,l;for(let i=1;i<=n;i+=1){e[i][i]=1/e[i][i],l=-e[i][i];for(let n=1;n<i;n+=1)e[n][i]*=l;if(n<(s=i+1))break;for(let h=s;h<=n;h+=1){l=e[i][h],e[i][h]=0;for(let n=1;n<=i;n+=1)e[n][h]+=l*e[n][i]}}}}),D=V((e,i)=>{i.exports=function(e,i,n,s){let l,h;for(l=1;l<=n;l+=1){h=0;for(let i=1;i<l;i+=1)h+=e[i][l]*s[i];s[l]=(s[l]-h)/e[l][l]}for(let i=1;i<=n;i+=1){l=n+1-i,s[l]/=e[l][l],h=-s[l];for(let i=1;i<l;i+=1)s[i]+=h*e[i][l]}}}),G=V((e,i)=>{i.exports=function(e,i,n,s){let l,h,u;for(let i=1;i<=n;i+=1){if(s[1]=i,u=0,(l=i-1)<1){if((u=e[i][i]-u)<=0)break;e[i][i]=Math.sqrt(u)}else{for(let n=1;n<=l;n+=1){h=e[n][i];for(let s=1;s<n;s+=1)h-=e[s][i]*e[s][n];h/=e[n][n],e[n][i]=h,u+=h*h}if((u=e[i][i]-u)<=0)break;e[i][i]=Math.sqrt(u)}s[1]=0}}}),W=V((e,i)=>{var n=q(),s=$(),l=D(),h=G();i.exports=function(e,i,u,d,c,f,p,v,m,y,x,b,g,I=0,w,C,E){let B,M,k,N,O,S,z,j,A,T,L,q,$,D,G=Math.min(d,x),W=2*d+G*(G+5)/2+2*x+1;for(let e=1;e<=d;e+=1)C[e]=i[e];for(let e=d+1;e<=W;e+=1)C[e]=0;for(let e=1;e<=x;e+=1)g[e]=0,f[e]=0;let Y=[];if(0===E[1]){if(h(e,u,d,Y),0!==Y[1]){E[1]=2;return}l(e,u,d,i),s(e,u,d)}else{for(let n=1;n<=d;n+=1){c[n]=0;for(let s=1;s<=n;s+=1)c[n]+=e[s][n]*i[s]}for(let n=1;n<=d;n+=1){i[n]=0;for(let s=n;s<=d;s+=1)i[n]+=e[n][s]*c[s]}}p[1]=0;for(let n=1;n<=d;n+=1){c[n]=i[n],p[1]+=C[n]*c[n],C[n]=0;for(let i=n+1;i<=d;i+=1)e[i][n]=0}p[1]=-p[1]/2,E[1]=0;let Q=d+d,X=Q+G,tt=X+G+1,te=tt+G*(G+1)/2,ti=te+x;for(let e=1;e<=x;e+=1){S=0;for(let i=1;i<=d;i+=1)S+=v[i][e]*v[i][e];C[ti+e]=Math.sqrt(S)}function jt(){return C[X+N]=C[X+N+1],C[X+N+1]=0,g[N]=0,N-=1,w[2]+=1,0}for(N=I,w[1]=0,w[2]=0,D=0;;){if(999===(D=function(){w[1]+=1,W=te;for(let e=1;e<=x;e+=1){W+=1,S=-m[e];for(let i=1;i<=d;i+=1)S+=v[i][e]*c[i];if(Math.abs(S)<n&&(S=0),e>b)C[W]=S;else if(C[W]=-Math.abs(S),S>0){for(let i=1;i<=d;i+=1)v[i][e]=-v[i][e];m[e]=-m[e]}}for(let e=1;e<=N;e+=1)C[te+g[e]]=0;k=0,O=0;for(let e=1;e<=x;e+=1)C[te+e]<O*C[ti+e]&&(k=e,O=C[te+e]/C[ti+e]);if(0===k){for(let e=1;e<=N;e+=1)f[g[e]]=C[X+e];return 999}return 0}()))return;for(;0!==(D=function(){for(let i=1;i<=d;i+=1){S=0;for(let n=1;n<=d;n+=1)S+=e[n][i]*v[n][k];C[i]=S}B=d;for(let e=1;e<=d;e+=1)C[B+e]=0;for(let i=N+1;i<=d;i+=1)for(let n=1;n<=d;n+=1)C[B+n]=C[B+n]+e[n][i]*C[i];q=!0;for(let e=N;e>=1;e-=1){S=C[e],B=(W=tt+e*(e+3)/2)-e;for(let i=e+1;i<=N;i+=1)S-=C[W]*C[Q+i],W+=i;S/=C[B],C[Q+e]=S,!(g[e]<=b)&&(S<=0||(q=!1,M=e))}if(!q){z=C[X+M]/C[Q+M];for(let e=1;e<=N;e+=1)g[e]<=b||C[Q+e]<=0||(O=C[X+e]/C[Q+e])<z&&(z=O,M=e)}S=0;for(let e=d+1;e<=d+d;e+=1)S+=C[e]*C[e];if(Math.abs(S)<=n){if(q)return E[1]=1,999;for(let e=1;e<=N;e+=1)C[X+e]=C[X+e]-z*C[Q+e];return C[X+N+1]=C[X+N+1]+z,700}S=0;for(let e=1;e<=d;e+=1)S+=C[d+e]*v[e][k];j=-C[te+k]/S,$=!0,q||z<j&&(j=z,$=!1);for(let e=1;e<=d;e+=1)c[e]+=j*C[d+e],Math.abs(c[e])<n&&(c[e]=0);p[1]+=j*S*(j/2+C[X+N+1]);for(let e=1;e<=N;e+=1)C[X+e]=C[X+e]-j*C[Q+e];if(C[X+N+1]=C[X+N+1]+j,$){g[N+=1]=k,W=tt+(N-1)*N/2+1;for(let e=1;e<=N-1;e+=1)C[W]=C[e],W+=1;if(N===d)C[W]=C[d];else{for(let i=d;i>=N+1;i-=1)if(0!==C[i]&&(A=Math.max(Math.abs(C[i-1]),Math.abs(C[i])),T=Math.min(Math.abs(C[i-1]),Math.abs(C[i])),O=C[i-1]>=0?Math.abs(A*Math.sqrt(1+T*T/(A*A))):-Math.abs(A*Math.sqrt(1+T*T/(A*A))),A=C[i-1]/O,T=C[i]/O,1!==A)){if(0===A){C[i-1]=T*O;for(let n=1;n<=d;n+=1)O=e[n][i-1],e[n][i-1]=e[n][i],e[n][i]=O}else{C[i-1]=O,L=T/(1+A);for(let n=1;n<=d;n+=1)O=A*e[n][i-1]+T*e[n][i],e[n][i]=L*(e[n][i-1]+O)-e[n][i],e[n][i-1]=O}}C[W]=C[N]}}else{S=-m[k];for(let e=1;e<=d;e+=1)S+=c[e]*v[e][k];if(k>b)C[te+k]=S;else if(C[te+k]=-Math.abs(S),S>0){for(let e=1;e<=d;e+=1)v[e][k]=-v[e][k];m[k]=-m[k]}return 700}return 0}());){if(999===D)return;if(700===D){if(M===N)jt();else{for(;function(){if(0!==C[B=(W=tt+M*(M+1)/2+1)+M]&&(A=Math.max(Math.abs(C[B-1]),Math.abs(C[B])),T=Math.min(Math.abs(C[B-1]),Math.abs(C[B])),O=C[B-1]>=0?Math.abs(A*Math.sqrt(1+T*T/(A*A))):-Math.abs(A*Math.sqrt(1+T*T/(A*A))),A=C[B-1]/O,T=C[B]/O,1!==A)){if(0===A){for(let e=M+1;e<=N;e+=1)O=C[B-1],C[B-1]=C[B],C[B]=O,B+=e;for(let i=1;i<=d;i+=1)O=e[i][M],e[i][M]=e[i][M+1],e[i][M+1]=O}else{L=T/(1+A);for(let e=M+1;e<=N;e+=1)O=A*C[B-1]+T*C[B],C[B]=L*(C[B-1]+O)-C[B],C[B-1]=O,B+=e;for(let i=1;i<=d;i+=1)O=A*e[i][M]+T*e[i][M+1],e[i][M+1]=L*(e[i][M]+O)-e[i][M+1],e[i][M]=O}}}(),797===(D=function(){B=W-M;for(let e=1;e<=M;e+=1)C[B]=C[W],W+=1,B+=1;return C[X+M]=C[X+M+1],g[M]=g[M+1],(M+=1)<N?797:0}()););jt()}}}}}}),Y=V(e=>{var i=W();e.solveQP=function(e,n,s,l=[],h=0,u=[0,0]){let d=[],c=[],f=[],p=[],v=[],m=[],y="",x=e.length-1,b=s[1].length-1;if(!l)for(let e=1;e<=b;e+=1)l[e]=0;if(x!==e[1].length-1&&(y="Dmat is not symmetric!"),x!==n.length-1&&(y="Dmat and dvec are incompatible!"),x!==s.length-1&&(y="Amat and dvec are incompatible!"),b!==l.length-1&&(y="Amat and bvec are incompatible!"),(h>b||h<0)&&(y="Value of meq is invalid!"),""!==y)return{message:y};for(let e=1;e<=b;e+=1)c[e]=0,p[e]=0;let g=Math.min(x,b);for(let e=1;e<=x;e+=1)f[e]=0;d[1]=0;for(let e=1;e<=2*x+g*(g+5)/2+2*b+1;e+=1)v[e]=0;for(let e=1;e<=2;e+=1)m[e]=0;return i(e,n,x,x,f,p,d,s,l,x,b,h,c,0,m,v,u),1===u[1]&&(y="constraints are inconsistent, no solution!"),2===u[1]&&(y="matrix D in quadratic function is not positive definite!"),{solution:f,Lagrangian:p,value:d,unconstrained_solution:n,iterations:m,iact:c,message:y}}}),Q=V((e,i)=>{i.exports=Y()});function*H(e){let i=0;for(let n of e)yield[i++,n]}function ot(e,i,n){let s=n;for(let[n,l]of H(e))s=i(s,l,n);return s}function*P(e,i){for(let[n,s]of H(e))yield i(s,n)}function de(e,i){for(let[n,s]of H(e))if(i(s,n))return!0;return!1}function ze(e){let{done:i,value:n}=e.values().next();if(!i)return e.delete(n),n}function ie(e,i,n){let s=e.get(i);void 0===s?e.set(i,[n]):s.push(n)}function Ae(e,i,n){let s=e.get(i);void 0===s?e.set(i,new Set([n])):s.add(n)}function F(e,...i){let[n,...s]=e;return[n].concat(...s.map((e,n)=>{let s;return[JSON.stringify(i[n],(s=new WeakSet,(e,i)=>{if("object"==typeof i&&null!==i){if(s.has(i))return"[circular]";s.add(i)}return i})),e]})).join("")}function*J(e,...i){let n=new Set,s;for(;void 0!==(s=i.pop());)n.has(s)||(yield s,n.add(s),i.push(...e(s)))}function Z(e){let i=new Map;for(let n of e)for(let e of n.ichildren())ie(i,e,n);return i}ke(f());var X=class{constructor(e,i,n=[],s=!1){this.child=e,this.data=i,this.points=n,this.reversed=s}},tt=class{constructor(e,i,n,s,l){this.source=e,this.target=i,this.data=n,this.points=s,this.reversed=l}},te=class{constructor(e){e&&(this.proots=e)}[Symbol.iterator](){return this.idescendants()[Symbol.iterator]()}iroots(){return{[Symbol.iterator]:()=>this.proots[Symbol.iterator]()}}roots(){return[...this.iroots()]}*idepth(){yield*J(e=>e.ichildren(),...this.iroots())}*ibreadth(){let e=new Set,i=this.roots(),n=[];do{let s;for(n=i.reverse(),i=[];s=n.pop();)e.has(s)||(e.add(s),yield s,i.push(...s.ichildren()))}while(i.length)}*ibefore(){let e=new Map;for(let i of this)for(let n of i.ichildren())e.set(n,(e.get(n)||0)+1);let i=this.roots(),n;for(;n=i.pop();)for(let s of(yield n,n.ichildren())){let n=e.get(s);n>1?e.set(s,n-1):i.push(s)}}*iafter(){let e=this.roots(),i=new Set,n;for(;n=e.pop();)i.has(n)||(function(e,i){return!de(e,(e,n)=>!i(e,n))}(n.ichildren(),e=>i.has(e))?(i.add(n),yield n):e.push(n,...n.ichildren()))}idescendants(e="depth"){if("depth"===e)return this.idepth();if("breadth"===e)return this.ibreadth();if("before"===e)return this.ibefore();if("after"===e)return this.iafter();throw Error(`unknown iteration style: ${e}`)}descendants(e="depth"){return[...this.idescendants(e)]}ilinks(){return function*(e,i){for(let[n,s]of H(e))yield*i(s,n)}(this,e=>e.ichildLinks())}links(){return[...this.ilinks()]}size(){return ot(this,e=>e+1,0)}sum(e){let i=new Map;for(let[n,s]of H(this.idescendants("after"))){let l=e(s,n),h=new Map;for(let e of(h.set(s,l),s.ichildren()))for(let[n,s]of i.get(e).entries())h.set(n,s);s.value=ot(h.values(),(e,i)=>e+i,0),i.set(s,h)}return this}count(){let e=new Map;for(let i of this.idescendants("after"))if(i.ichildren()[Symbol.iterator]().next().done)e.set(i,new Set([i])),i.value=1;else{let n=new Set;for(let s of i.ichildren())for(let i of e.get(s))n.add(i);e.set(i,n),i.value=n.size}return this}height(){for(let e of this.idescendants("after"))e.value=Math.max(0,...P(e.ichildren(),e=>e.value+1));return this}depth(){let e=Z(this);for(let i of this.idescendants("before"))i.value=Math.max(0,...P(e.get(i)??[],e=>e.value+1));return this}*isplit(){let e=Z(this);function*r(i){yield*i.ichildren(),yield*e.get(i)??[]}let i=new Set(this.iroots());for(let e of this.iroots()){if(!i.delete(e))continue;let n=[e];for(let s of J(r,e))i.delete(s)&&n.push(s);yield n.length>1?new te(n):n[0]}}split(){return[...this.isplit()]}connected(){let e=this.isplit()[Symbol.iterator]();e.next();let{done:i}=e.next();return!!i}multidag(){return void 0===this.pmultidag?this.pmultidag=de(this.iroots(),e=>e.multidag()):this.pmultidag}},ti=class extends te{constructor(e){super(),this.data=e,this.dataChildren=[]}childrenCountsMap(){if(void 0!==this.cachedChildrenCounts)return this.cachedChildrenCounts;{let e=new Map;for(let{child:i}of this.dataChildren)e.set(i,(e.get(i)??0)+1);return this.cachedChildrenCounts=e.size===this.dataChildren.length?null:e}}iroots(){let e=[this];return{[Symbol.iterator]:()=>e[Symbol.iterator]()}}nchildren(){return this.childrenCountsMap()?.size??this.dataChildren.length}nchildLinks(){return this.dataChildren.length}nchildLinksTo(e){return this.childrenCountsMap()?.get(e)??1}*ichildren(){let e=this.childrenCountsMap();if(null===e)for(let{child:e}of this.dataChildren)yield e;else yield*e.keys()}children(){return[...this.ichildren()]}*ichildrenCounts(){let e=this.childrenCountsMap();if(null===e)for(let{child:e}of this.dataChildren)yield[e,1];else yield*e}childrenCounts(){return[...this.ichildrenCounts()]}*ichildLinks(){for(let{child:e,data:i,points:n,reversed:s}of this.dataChildren)yield new tt(this,e,i,n,s)}childLinks(){return[...this.ichildLinks()]}isplit(){return this.iroots()}split(){return this.roots()}connected(){return!0}multidag(){return void 0===this.pmultidag?this.pmultidag=null!==this.childrenCountsMap()||de(this.ichildren(),e=>e.multidag()):this.pmultidag}};function or(e){function t(i,n){return(e(i,n)??[]).map(e=>[e,void 0])}return t.wrapped=e,t}function oo(e){if(function(e){try{return"string"==typeof e.id}catch{return!1}}(e))return e.id;throw Error(F`default id function expected datum to have an id field but got '${e}'`)}function rr(e){if(function(e){try{let i=e.parentIds;return void 0===i||i instanceof Array&&i.every(e=>"string"==typeof e)}catch{return!1}}(e))return e.parentIds;throw Error(`default parentIds function expected datum to have a parentIds field but got: ${e}`)}function ao(...e){if(e.length)throw Error(`got arguments to stratify(${e}), but constructor takes no arguments. These were probably meant as data which should be called as stratify()(...)`);return function Ne(e){function t(i){if(!i.length)throw Error("can't stratify empty data");let n=new Map;for(let[s,l]of i.entries()){let i=function(e){if("string"!=typeof e)throw Error(`id is supposed to be string but got type ${typeof e}`);return e}(e.id(l,s)),h=e.parentData(l,s)??[],u=new ti(l);if(n.has(i))throw Error(`found a duplicate id: ${r}`);n.set(i,[u,h])}let s=[];for(let[e,i]of n.values()){for(let[s,l]of i){let i=n.get(s);if(!i)throw Error(`missing id: ${s}`);let[h]=i;h.dataChildren.push(new X(e,l))}i.length||s.push(e)}let l=e.decycle?function(e){let i=new Map;for(let n of e)for(let{child:e}of n.dataChildren)ie(i,e,n);let n=new Map(P(e,e=>[e,{indeg:i.get(e)?.length??0,outdeg:e.nchildLinks(),node:e}])),s=Math.max(...P(function*(e,i){for(let[n,s]of H(e))i(s,n)&&(yield s)}(n.values(),({indeg:e,outdeg:i})=>e>0&&i>0),({indeg:e,outdeg:i})=>i-e));if(s===-1/0){let e=[];for(let{indeg:i,node:s}of n.values())0===i&&e.push(s);return e}let l=new Set,h=new Set,u=new Map;for(let e of n.values()){let{outdeg:i,indeg:n}=e;0===n?l.add(e):0===i?h.add(e):Ae(u,i-n,e)}let d=0,c=e.length,f=s,p=Array(e.length);for(;d<c;){var v;let e=ze(l)??ze(h)??((v=u.get(f))&&ze(v));if(void 0===e)--f;else{let{node:s,indeg:v,outdeg:m}=e;for(let l of(p[e.rank=v>0&&0===m?--c:d++]=s,i.get(s)??[])){let e=n.get(l);if(void 0===e.rank&&e.indeg>0&&e.outdeg>0){let i=e.outdeg-e.indeg;u.get(i).delete(e),--e.outdeg,e.outdeg>0?Ae(u,i-1,e):h.add(e)}}for(let{child:e}of s.dataChildren){let i=n.get(e);if(!(void 0!==i.rank||0===i.indeg)){if(0===i.outdeg)--i.indeg,0===i.indeg&&(h.delete(i),l.add(i));else{let e=i.outdeg-i.indeg;e===f&&++f,u.get(e).delete(i),--i.indeg,0===i.indeg?l.add(i):Ae(u,e+1,i)}}}}}let m=[],y=new Set;for(let[e,i]of p.entries()){let s=[];for(let l of i.dataChildren){let h=n.get(l.child);h.rank<e?h.node.dataChildren.push(new X(i,l.data,l.points,!0)):s.push(l)}for(let{child:e}of(s.length!==i.nchildLinks()||y.has(i)||m.push(i),s))y.add(e);i.dataChildren=s}return m}([...P(n.values(),([e])=>e)]):s;return function(e,i){if(!e.length)throw Error("dag contained no roots; this often indicates a cycle");for(let i of new te(e))for(let e of i.ichildren())if(e===i)throw Error(F`node '${i.data}' contained a self loop`);if(!i)return;let n=new Set,s=new Set,l=null;for(let i of e){let e=function a(e){if(n.has(e))return[];if(s.has(e))return l=e,[e];{s.add(e);let i=[];for(let n of e.ichildren())if((i=a(n)).length)break;return s.delete(e),n.add(e),i.length&&null!==l&&i.push(e),l===e&&(l=null),i}}(i);if(e.length){let i=e.reverse().map(({data:e})=>F`'${e}'`).join(" -> ");throw Error(`dag contained a cycle: ${i}`)}}}(l,!e.decycle),l.length>1?new te(l):l[0]}function r(i){if(void 0===i)return e.id;{let{id:n,...s}=e;return Ne({...s,id:i})}}return t.id=r,t.parentData=function(i){if(void 0===i)return e.parentData;{let{parentIds:n,parentData:s,...l}=e;return Ne({...l,parentIds:function(e){function t(i,n){return(e(i,n)??[]).map(([e])=>e)}return t.wrapped=e,t}(i),parentData:i})}},t.parentIds=function(i){if(void 0===i)return e.parentIds;{let{parentIds:n,parentData:s,...l}=e;return Ne({...l,parentIds:i,parentData:or(i)})}},t.decycle=function(i){return void 0===i?e.decycle:Ne({...e,decycle:i})},t}({id:oo,parentIds:rr,parentData:or(rr),decycle:!1})}function U(e,i){return null==e||null==i?NaN:e<i?-1:e>i?1:e>=i?0:NaN}function Ee(e,i){return null==e||null==i?NaN:i<e?-1:i>e?1:i>=e?0:NaN}function ve(e){let i,n,s;function o(e,s,l=0,h=e.length){if(l<h){if(0!==i(s,s))return h;do{let i=l+h>>>1;0>n(e[i],s)?l=i+1:h=i}while(l<h)}return l}return 2!==e.length?(i=U,n=(i,n)=>U(e(i),n),s=(i,n)=>e(i)-n):(i=e===U||e===Ee?e:so,n=e,s=e),{left:o,center:function(e,i,n=0,l=e.length){let h=o(e,i,n,l-1);return h>n&&s(e[h-1],i)>-s(e[h],i)?h-1:h},right:function(e,s,l=0,h=e.length){if(l<h){if(0!==i(s,s))return h;do{let i=l+h>>>1;0>=n(e[i],s)?l=i+1:h=i}while(l<h)}return l}}}function so(){return 0}var tr=ve(U);tr.right,tr.left,ve(function(e){return null===e?NaN:+e}).center;var tn=Array.prototype;function An(e,i){let n=e.findIndex(e=>e<=i);return n>=0?n:e.length}function Ti(...e){if(e.length)throw Error(`got arguments to zherebko(${e}), but constructor takes no arguments.`);return function Ft(e,i,n,s){function o(l){let h=[],u=0,d;for(let e of l.idescendants("before"))void 0!==d&&d.nchildLinksTo(e)>1&&++u,h.push([e,u++]),d=e;let c=function(e){let i=new Map(e),n=[];for(let[s,[l,h]]of e.entries()){let u=!1,d=e[s+1]?.[0];for(let[e,{target:s}]of H(l.ichildLinks())){let c=i.get(s);d!==s||u?n.push([h,c,l,e]):u=!0}}n.sort(([e,i],[n,s])=>i===s?n-e:i-s);let s=new Map,l=[],h=[];for(let[e,i,u,d]of n){let n=s.get(u);void 0===n&&(n=[],s.set(u,n));let c=An(h,e),f=An(l,e);c<f?(n[d]=-c-1,h[c]=i-1):(n[d]=f+1,l[f]=i-1)}return s}(h),f=0,p=0;for(let e of c.values())for(let i of e)void 0!==i&&(f=Math.min(f,i),p=Math.max(p,i));let v=-f*n+e/2;for(let[e,n]of h)e.x=v,e.y=(n+.5)*i;for(let s of l){let l=c.get(s)??[];for(let[h,{target:u,points:d}]of H(s.ichildLinks())){d.length=0,d.push({x:s.x,y:s.y});let c=l[h];if(void 0!==c){let l=(c-f+.5)*n+(c>0?e-n:0),h=s.y+i,p=u.y-i;p-h>i/2?d.push({x:l,y:h},{x:l,y:p}):d.push({x:l,y:h})}d.push({x:u.x,y:u.y})}}let m=(p-f)*n+e,y=u*i;if(null===s)return{width:m,height:y};{let[e,i]=s;for(let[n]of h)n.x*=e/m,n.y*=i/y;for(let{points:n}of l.ilinks()){let s=n.map(({x:n,y:s})=>({x:n*e/m,y:s*i/y}));n.splice(0,n.length,...s)}return{width:e,height:i}}}return o.nodeSize=function(l){if(void 0===l)return[e,i,n];{let[e,i,n]=l;return Ft(e,i,n,s)}},o.size=function(l){if(void 0!==l)return Ft(e,i,n,l);if(null===s)return s;{let[e,i]=s;return[e,i]}},o}(1,1,1,null)}tn.slice,tn.map,ke(L()),ke(Q()),ke(f())},50361:function(e,i,n){var s=n(85990);e.exports=function(e){return s(e,5)}}}]);